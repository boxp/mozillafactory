/**
 *
 * Constants
 *
 */



/*
 * general variable
 */
$base-path: "http://saneyuki.mozlabs.jp/factory";

$link-color: #af3232;
$text-color-primary: #333;
$base-font-size: 14px;
$base-font-family: 
                   "ヒラギノ角ゴ ProN W3", "Hiragino Kaku Gothic ProN",
                   メイリオ, Meiryo, sans-serif,
                   sans-serif;
$base-line-height: 1.6em;

$basic-block-bg-color: rgba(255, 255, 255, .5);

$page-width: 980px;
$page-width-phone: 95%;


/*
 * header-nav variable
 */
$header-nav-item-number: 5;
$header-nav-item-width: $page-width / $header-nav-item-number;


/*
 * sidebar variable
 */
$sidebar-width: 180px;
$sidebar-margin-left: 30px;

$sidebar-based-main-width: $page-width - $sidebar-width;
$nav-based-main-width: ($header-nav-item-number - 1) * $header-nav-item-width;

/* ページ幅からサイドバー幅を差し引いた長さよりも
   グローバルナビゲーションのアイテム数を使って算出した長さの方が長い場合、
   ページ幅から算出したサイドバー幅を優先する */
$main-width: 0;
@if $sidebar-based-main-width < $nav-based-main-width {
  $main-width: $sidebar-based-main-width;
}
@else {
  $main-width: $nav-based-main-width;
}

$post-width: $main-width * 0.8;
$post-width-phone-wide: 80%;
$post-maxwidth-phone-wide: 550px;

/*
 * post index variable
 */
$post-index-padding-width: 15px;
$post-index-border-width: 0;
$post-index-margin-width: 10px;
$post-index-font-size: 12px;


/*
 * footer variable
 */
$footer-bg-color: #fff;


/*
 * tag variable
 */
$tag-project-bg-color: red;
$tag-event-bg-color: green;
$tag-mentor-bg-color: blue;


/**
 *
 * Mixins
 *
 */
@mixin transition($transition: all linear .25s) {
  -webkit-transition: $transition;
  -o-transition: $transition;
  transition: $transition;
}

@mixin box-shadow($shadow: 0px 2px 0px 0px rgba(0, 0, 0, 0.1)) {
  -webkit-box-shadow: $shadow;
  box-shadow: $shadow;
}

@mixin embeded-line-bottom($op1: .2, $op2: .3) {
  border-bottom: 1px solid rgba(0, 0, 0, $op1);
  @include box-shadow(rgba(255, 255, 255, $op2)0 1px 0);
}

%clear-embeded-line-bottom {
  border-bottom: none;
  @include box-shadow(none);
}

/* Use @mixin instead of @extend.
 * @extending an outer selector from within @media is deprecated in Sass 3.2.
 */
@mixin no-linebreak() {
  display: inline-block;
}

%clear-float {
  content: "";
  display: block;
  clear: both;
}

%media-justify {
  max-width: 100%;
  height: auto;
}

%basic-block {
  background-color: $basic-block-bg-color;
  @include box-shadow( 0px 0px 5px 1px rgba(0, 0, 0, .1) );
}

@mixin grid-column-width($box-number, $parent-width, $padding-width, $border-width, $margin-width) {
  /*
    // 個々の要素に必要なborderとpadding
    $x = (個々の要素のborder*2 + padding*2) * 個々の要素の行数;
    // 相殺分を考慮したmargin
    $y = 要素間margin *（要素の行数 - 1）
    
    個々の要素の幅 = (親の幅 - ( $x + $y) ) / 要素の行数;
   */
  $x: 2 * ($padding-width + $border-width) * $box-number;
  $y: $margin-width * ($box-number - 1);
  width: ( $parent-width - ($x + $y) ) / $box-number;
  padding: $padding-width;
  margin-left: $margin-width;

  &:nth-of-type(3n+1) {
    margin-left: 0;

    @include phone {
      margin-left: auto;
    }
  }

  @include phone {
    width: $page-width-phone;
    padding-left: auto;
    padding-right: auto;
    margin-left: auto;
    margin-right: auto;
  }
}

@mixin open-sans() {
  @font-face {
      font-family: 'Open Sans';
      src: url('#{$base-path}/fonts/OpenSans-Regular-webfont.eot');
      src: url('#{$base-path}/fonts/OpenSans-Regular-webfont.eot?#iefix') format('embedded-opentype'),
           url('#{$base-path}/fonts/OpenSans-Regular-webfont.woff') format('woff'),
           url('#{$base-path}/fonts/OpenSans-Regular-webfont.ttf') format('truetype'),
           url('#{$base-path}/fonts/OpenSans-Regular-webfont.svg#OpenSansRegular') format('svg');
      font-weight: normal;
      font-style: normal;
  }

  @font-face {
      font-family: 'Open Sans';
      src: url('#{$base-path}/fonts/OpenSans-Italic-webfont.eot');
      src: url('#{$base-path}/fonts/OpenSans-Italic-webfont.eot?#iefix') format('embedded-opentype'),
           url('#{$base-path}/fonts/OpenSans-Italic-webfont.woff') format('woff'),
           url('#{$base-path}/fonts/OpenSans-Italic-webfont.ttf') format('truetype'),
           url('#{$base-path}/fonts/OpenSans-Italic-webfont.svg#OpenSansRegular') format('svg');
      font-weight: normal;
      font-style: italic;
  }

  @font-face {
      font-family: 'Open Sans';
      src: url('#{$base-path}/fonts/OpenSans-Semibold-webfont.eot');
      src: url('#{$base-path}/fonts/OpenSans-Semibold-webfont.eot?#iefix') format('embedded-opentype'),
           url('#{$base-path}/fonts/OpenSans-Semibold-webfont.woff') format('woff'),
           url('#{$base-path}/fonts/OpenSans-Semibold-webfont.ttf') format('truetype'),
           url('#{$base-path}/fonts/OpenSans-Semibold-webfont.svg#OpenSansSemibold') format('svg');
      font-weight: bold;
      font-style: normal;
  }

  @font-face {
      font-family: 'Open Sans';
      src: url('#{$base-path}/fonts/OpenSans-Semibold-webfont.eot');
      src: url('#{$base-path}/fonts/OpenSans-Semibold-webfont.eot?#iefix') format('embedded-opentype'),
           url('#{$base-path}/fonts/OpenSans-Semibold-webfont.woff') format('woff'),
           url('#{$base-path}/fonts/OpenSans-Semibold-webfont.ttf') format('truetype'),
           url('#{$base-path}/fonts/OpenSans-Semibold-webfont.svg#OpenSansSemibold') format('svg');
      font-weight: bold;
      font-style: italic;
  }

}

@mixin phone {
  @media only screen and (max-width: 767px) {
    @content;
  }
}

@mixin phone-wide {
  @media only screen and (min-width: 480px) and (max-width: 767px) {
    @content;
  }
}

@mixin tablet {
  @media only screen and (min-width: 768px) and (max-width: 1081px) {
    @content;
  }
}
